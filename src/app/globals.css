@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Variables modo claro */
  :root {
    --background: #18130a;
    --foreground: #f7e9c2;
    --font-base: Arial, Helvetica, sans-serif;

    /* Componentes generales */
    --card-bg: #23201a;
    --input-bg: #2d2617;
    --input-border: #bfa76a;
    --button-bg: #bfa76a;
    --button-text: #18130a;
    --button-hover: #e6c97a;

    /* Navegación de pestañas */
    --tab-text: #bfa76a;
    --tab-text-active: #ffd700;
    --tab-border: transparent;
    --tab-border-active: #ffd700;
    --tab-hover-text: #e6c97a;
    --badge-bg: #fff8e1;
    --badge-text: #bfa76a;

    /* Shift colors - Light theme */
    --shift-nocturno-bg: #3a2e13;
    --shift-nocturno-text: #ffd700;
    --shift-diurno-bg: #fff8e1;
    --shift-diurno-text: #bfa76a;
    --shift-libre-bg: #bfa76a;
    --shift-libre-text: #18130a;
  }

  /* Variables modo oscuro */
  .dark :root,
  :root.dark {
    --background: #18130a;
    --foreground: #f7e9c2;
    --font-base: Arial, Helvetica, sans-serif;

    /* Componentes generales */
    --card-bg-900: #18130a;
    --card-bg: #23201a;
    --input-bg: #2d2617;
    --input-border: #bfa76a;
    --button-bg: #bfa76a;
    --button-text: #18130a;
    --button-hover: #e6c97a;

    /* Navegación de pestañas */
    --tab-text: #bfa76a;
    --tab-text-active: #ffd700;
    --tab-border: transparent;
    --tab-border-active: #ffd700;
    --tab-hover-text: #e6c97a;
    --badge-bg: #23201a;
    --badge-text: #ffd700;

    /* Shift colors - Dark theme */
    --shift-nocturno-bg: #3a2e13;
    --shift-nocturno-text: #ffd700;
    --shift-diurno-bg: #bfa76a;
    --shift-diurno-text: #fff8e1;
    --shift-libre-bg: #ffd700;
    --shift-libre-text: #18130a;
  }

  /* Estilos globales */
  html,
  body {
    background: var(--background);
    color: var(--foreground);
    font-family: var(--font-base);
    @apply antialiased;
  }

  @media (max-width: 640px) {
    /* Ajusta el padding y el gap del contenedor principal */
    .barcode-mobile {
      padding: 1rem !important;
      gap: 1.25rem !important;
      position: relative;
      overflow: visible;
    }
    /* Botones y entradas ocupan todo el ancho, pero solo los que no están en un row de historial */
    .barcode-mobile > .flex,
    .barcode-mobile > .flex-col,
    .barcode-mobile > .flex-row {
      flex-direction: column !important;
      gap: 0.5rem !important;
      align-items: stretch !important;
    }
    /* Centrado forzado para todos los elementos principales */
    .barcode-mobile, .barcode-mobile *:not(.text-left):not(.text-right) {
      text-align: center !important;
      justify-content: center !important;
      align-items: center !important;
    }
    /* Historial: los rows de historial mantienen horizontalidad y centran iconos */
    .barcode-mobile .scan-history-row {
      flex-direction: column !important;
      align-items: stretch !important;
      gap: 0.5rem !important;
      padding: 0.75rem 0.5rem !important;
    }
    .barcode-mobile .scan-history-row .actions {
      display: flex !important;
      flex-direction: row !important;
      justify-content: center !important;
      gap: 1rem !important;
      margin-top: 0.5rem !important;
    }
    .barcode-mobile .scan-history-row button {
      width: 2.5rem !important;
      min-width: 2.5rem !important;
      height: 2.5rem !important;
      font-size: 1.2rem !important;
      padding: 0.5rem !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      flex-shrink: 0 !important;
      flex-grow: 0 !important;
      border-radius: 0.75rem !important;
    }
    .barcode-mobile .scan-history-row .font-mono {
      font-size: 1.1rem !important;
      word-break: break-all !important;
      text-align: center !important;
      margin-bottom: 0 !important;
      width: 100% !important;
      display: block !important;
    }
    .barcode-mobile .w-5,
    .barcode-mobile .h-5 {
      width: 1.5rem !important;
      height: 1.5rem !important;
    }
    /* Botones e inputs generales */
    .barcode-mobile input[type="text"],
    .barcode-mobile button {
      width: 100% !important;
      min-width: 0 !important;
      font-size: 1rem !important;
      padding-left: 0.75rem !important;
      padding-right: 0.75rem !important;
    }
    .barcode-mobile .w-10,
    .barcode-mobile .w-14,
    .barcode-mobile .w-16 {
      width: 2.5rem !important;
      height: 2.5rem !important;
    }
    .barcode-mobile .max-w-md,
    .barcode-mobile .max-w-3xl {
      max-width: 100% !important;
    }
    .barcode-mobile .p-8 {
      padding: 1rem !important;
    }
    .barcode-mobile .rounded-2xl {
      border-radius: 1rem !important;
    }
    .barcode-mobile .fixed.top-6.right-6 {
      top: 1rem !important;
      right: 1rem !important;
      left: 1rem !important;
      width: auto !important;
      max-width: calc(100vw - 2rem) !important;
      justify-content: center !important;
    }
    /* Ajustes específicos para cuando la cámara está activa */
    .barcode-mobile [ref="liveStreamRef"] {
      max-height: 50vh !important;
      width: 100% !important;
      overflow: hidden !important;
    }
    .barcode-mobile [ref="liveStreamRef"] video {
      width: 100% !important;
      height: 100% !important;
      object-fit: cover !important;
    }
    /* Ajustes para el contenedor del historial */
    .barcode-mobile .w-full {
      width: 100% !important;
      max-width: 100% !important;
      margin-top: 1rem !important;
    }
    .barcode-mobile .scan-history-container {
      position: static !important;
      box-shadow: none !important;
      background: transparent !important;
      border-radius: 0 !important;
      margin: 0 !important;
      padding: 0 !important;
    }
  }
}
